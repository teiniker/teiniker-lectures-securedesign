# Spring Boot MVC using TLS 

This example shows the TLS configuration in a Spring Boot project.

## TLS Configuration 

In order to configure a TLS connector, we have to create a server-side certificate 
and configure the `application.properties` file.

```
$ cd src/main/resources
$ keytool -genkeypair -keystore server.jks -storepass student -keypass student -keyalg RSA -alias server -dname "cn=se,o=lab,c=org"
```

Using SpringBoot, TLS can be configured in one place, the `application.properties` file:

```
server.ssl.key-store=classpath:server.jks
server.ssl.key-store-type=pkcs12
server.ssl.key-store-password=student
server.ssl.key-password=student
server.ssl.key-alias=server
server.port=8443
```


## Build and Run

We build and run the application like any Spring-Boot application:
```
$ mvn spring-boot:run 
```
Also, a fat JAR can be generated by Maven's `package` target:
```
$ mvn clean package
$ java -jar target/springboot-mvc-translator-0.0.1-SNAPSHOT.jar
```

## Accessing the Web Application

The running web application can be accessed by a browser or a command line tool:
```
URL: https://localhost:8443/index.html

$ curl -k -v https://localhost:8443/index.html

$ curl -k -i -X POST -d 'word=cat&language=Deutsch&action=Translate' https://localhost:8443/translator
```

If we use an **interception proxy** we have to modify the `curl` commands:
```
$ curl -k -v --proxy http://localhost:8010 https://localhost:8443/index.html

$ curl -k -i --proxy http://localhost:8010 -X POST -d 'word=cat&language=Deutsch&action=Translate' https://localhost:8443/translator
```
Using the **Manual Explore** option of ZAP, we can work with the browser while 
the interception proxy is recording the communication.

```
URL: https://localhost:8443/index.html
```


## Resources
* [Enable HTTPS/SSL in Spring Boot](https://youtu.be/HLSmjZ5vN0w)

*Egon Teiniker, 2017-2024, GPL v3.0*